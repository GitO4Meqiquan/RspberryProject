webpackJsonp([11],{114:function(e,t,i){i(802);var a=i(107)(i(539),i(824),null,null);e.exports=a.exports},268:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(36),l=i.n(a),o=i(35),n=i.n(o),s=i(62),r=i.n(s),d=i(108),c=i(61),p=i(109);t.default={data:function(){return{imgUrl:i(271),baseImgPath:c.a,test:0}},created:function(){this.adminInfo.id||this.getAdminData()},computed:r()({},i.i(p.a)(["adminInfo"])),props:["ok"],methods:r()({hh:function(){this.$store.dispatch("logout")}},i.i(p.b)(["getAdminData"]),{handleCommand:function(e){var t=this;return n()(l.a.mark(function a(){var o;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("home"!=e){a.next=4;break}t.$router.push("/manage"),a.next=10;break;case 4:if("signout"!=e){a.next=10;break}return a.next=7,i.i(d.a)();case 7:o=a.sent,console.log(o),203==o.status?(t.$message({type:"success",message:"退出成功"}),t.$store.dispatch("logout")):t.$message({type:"error",message:o.message});case 10:case"end":return a.stop()}},a,t)}))()},back:function(){if(window.history.length<=1)return this.$router.push({path:"/"}),!1;this.$router.go(-1)}})}},269:function(e,t,i){t=e.exports=i(245)(!1),t.push([e.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.header_container{background-color:#eff2f7;height:60px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding-left:20px}.avator{width:36px;height:36px;border-radius:50%;margin-right:37px}.el-dropdown-menu__item{text-align:center}",""])},270:function(e,t,i){var a=i(269);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i(246)("200e1f3c",a,!0)},271:function(e,t,i){e.exports=i.p+"static/img/5gg.5a47940.png"},272:function(e,t,i){i(270);var a=i(107)(i(268),i(273),null,null);e.exports=a.exports},273:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"header_container"},[e.ok?i("el-button",{staticStyle:{"margin-right":"15px"},attrs:{type:"primary",plain:""},on:{click:e.back}},[e._v("返回")]):e._e(),e._v(" "),i("img",{staticStyle:{width:"30px"},attrs:{src:e.imgUrl,alt:""}}),e._v(" "),i("p",{staticStyle:{margin:"15px","font-size":"25px",color:"#1d90e6"}},[e._v("银翔科技智能运维平台")]),e._v(" "),i("el-breadcrumb",{staticStyle:{"margin-right":"auto",padding:"10px"},attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/HomeMap"}}},[e._v("首页")]),e._v(" "),e._l(e.$route.meta,function(t,a){return i("el-breadcrumb-item",{key:a},[e._v(e._s(t))])})],2),e._v(" "),i("el-dropdown",{on:{command:e.handleCommand}},[i("img",{staticClass:"avator",attrs:{src:e.baseImgPath+e.adminInfo.avatar}}),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"home"}},[e._v("首页")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"signout"}},[e._v("退出")])],1)],1)],1)},staticRenderFns:[]}},539:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(272),l=i.n(a),o=i(61),n=i(37),s=i.n(n);t.default={components:{headTop:l.a},data:function(){return{Host:o.c,keywords:"",devices:[],types:[],areas:[],device:{id:null,description:"",latitude:null,longitude:null,areaname:"",type:""},num:null,tableloading:!1,currentpage:1,editTitle:"",editVisible:!1,addVisible:!1}},mounted:function(){this.loaddevices()},methods:{loaddevices:function(){var e=this;e.tableloading=!0,console.log(o.c+"/basic/devices?page="+this.currentpage+"&size=10&keywords= "+this.keywords),s.a.get(o.c+"/basic/devices?page="+this.currentpage+"&size=10&keywords="+this.keywords).then(function(t){t&&200==t.status&&(console.log(t),e.areas=t.data.areas,e.types=t.data.types,e.tableloading=!1,e.devices=t.data.devices,e.num=t.data.count)})},search:function(){this.currentpage=1,this.loaddevices()},edit:function(e){this.editTitle="设备信息",this.device.id=e.id,this.device.latitude=e.latitude,this.device.longitude=e.longitude,this.device.description=e.description,this.device.type=e.type,this.editVisible=!0},submitchange:function(){var e=this;e.editVisible=!1,e.tableloading=!0;var t=new URLSearchParams;t.append("id",e.device.id),t.append("latitude",e.device.latitude),t.append("longitude",e.device.longitude),t.append("description",e.device.description),t.append("type",e.device.type),console.log(e.device.type),s.a.post(o.c+"/basic/updatedevice",t).then(function(t){console.log(t),e.tableloading=!1,e.loaddevices()})},cancelchange:function(){this.editVisible=!1,this.addVisible=!1},addmeun:function(){this.addVisible=!0,this.device={id:null,description:"",latitude:null,longitude:null,type:""}},submitadd:function(){var e=this,t=new URLSearchParams;t.append("id",e.device.id),t.append("latitude",e.device.latitude),t.append("longitude",e.device.longitude),t.append("description",e.device.description),t.append("statusname","正常"),t.append("type",e.device.type),t.append("areaname",e.device.areaname),s.a.post(o.c+"/basic/addDevice",t).then(function(t){console.log(t),e.addVisible=!1,e.loaddevices()})},makesureDelete:function(e){console.log(e);var t=this;t.$confirm("如果继续将删除设备"+e.id+"，删除后将无法恢复，请谨慎操作！","你确定要删除设备吗？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.deletedevice(e)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},deletedevice:function(e){var t=this;t.tableloading=!0;var i={};i.device_id=e.id,console.log(i),t.$axios.post(this.Host+"/basic/deleteDevice",i).then(function(e){console.log(e),t.addVisible=!1,t.loaddevices()})}}}},565:function(e,t,i){t=e.exports=i(245)(!1),t.push([e.i,".el-switch__label{position:absolute;display:none;color:#fff}.el-switch__label--right{z-index:1;right:-3px;color:#fff}.el-switch__label--left{z-index:1;left:19px;color:#fff}.el-switch__label.is-active{display:block;color:#fff!important}.el-switch__core,.el-switch__label{width:50px!important}.el-dialog__body{padding:0;color:#606266;font-size:14px;word-break:break-all}.el-dialog__header{padding:20px 20px 10px;background:#eee}.el-main{display:block;-ms-flex:1;flex:1;-ms-flex-preferred-size:auto;flex-basis:auto;overflow:auto;box-sizing:border-box;padding:10px}.el-checkbox-button{width:320px;height:40px}.el-checkbox-button__inner{text-align:left;display:inline-block;position:relative;left:10px;width:300px;height:32px;padding:8px 12px;border:1px solid #ffebcd}",""])},802:function(e,t,i){var a=i(565);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i(246)("ae37653a",a,!0)},824:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("head-top"),e._v(" "),i("el-container",{staticStyle:{"margin-top":"20px"}},[i("el-header",{staticStyle:{height:"60px",width:"1000px"}},[i("div",{staticStyle:{display:"inline"}},[i("el-button",{staticStyle:{float:"left"},attrs:{round:"",type:"primary",icon:"el-icon-plus"},on:{click:e.addmeun}},[e._v(" 添加设备")]),e._v(" "),i("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),i("el-input",{staticStyle:{width:"300px",float:"right"},attrs:{placeholder:"搜索",clearable:"","prefix-icon":"el-icon-search"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1)]),e._v(" "),i("el-main",{staticStyle:{height:"600px"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableloading,expression:"tableloading"}],staticStyle:{width:"100%"},attrs:{data:e.devices,border:"",stripe:"",size:"mini"}},[i("el-table-column",{attrs:{type:"text",prop:"id",align:"center",fixed:"",label:"设备名称",width:""}}),e._v(" "),i("el-table-column",{attrs:{type:"text",prop:"areaname",align:"center",fixed:"",label:"所属区域",width:""}}),e._v(" "),i("el-table-column",{attrs:{type:"text",prop:"latitude",align:"center",fixed:"",label:"维度",width:""}}),e._v(" "),i("el-table-column",{attrs:{type:"text",prop:"longitude",align:"center",fixed:"",label:"经度",width:""}}),e._v(" "),i("el-table-column",{attrs:{type:"text",prop:"description",align:"center",fixed:"",label:"说明",width:""}}),e._v(" "),i("el-table-column",{attrs:{type:"text",prop:"type",align:"center",fixed:"",label:"类型",width:""}}),e._v(" "),i("el-table-column",{attrs:{type:"text",align:"center",fixed:"right",label:"操作",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(i){return e.edit(t.row)}}},[e._v("设备信息")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(i){return e.makesureDelete(t.row)}}},[e._v("删除设备")])]}}])})],1)],1),e._v(" "),i("el-footer",[i("label",[e._v(e._s("显示第 "+(1+10*(e.currentpage-1))+" 到第 "+(10*e.currentpage>e.num?e.num:10*e.currentpage)+" 条记录，总共 "+e.num+" 条记录"))]),e._v(" "),i("el-pagination",{staticStyle:{float:"right"},attrs:{background:"",layout:"prev, pager, next",total:e.num,"page-size":10,"current-page":e.currentpage},on:{"update:currentPage":function(t){e.currentpage=t},"update:current-page":function(t){e.currentpage=t},"current-change":e.loaddevices}})],1)],1),e._v(" "),i("el-form",{staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.device,"status-icon":""}},[i("div",{staticStyle:{"text-align":"left"}},[i("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.editTitle,"close-on-click-modal":!1,visible:e.addVisible,width:"77%","append-to-body":!0},on:{"update:visible":function(t){e.addVisible=t}}},[i("el-row",[i("el-col",[i("div",[i("el-form-item",{attrs:{label:"设备名称:","label-width":"120px","label-position":"right",prop:"id"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.device.id,callback:function(t){e.$set(e.device,"id",t)},expression:"device.id"}})],1)],1)])],1),e._v(" "),i("el-row",[i("el-col",[i("div",[i("el-form-item",{attrs:{label:"维度:","label-width":"120px","label-position":"right",prop:"latitude"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.device.latitude,callback:function(t){e.$set(e.device,"latitude",t)},expression:"device.latitude"}})],1)],1)])],1),e._v(" "),i("el-row",[i("el-col",[i("div",[i("el-form-item",{attrs:{label:"经度:","label-width":"120px","label-position":"right",prop:"longitude"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.device.longitude,callback:function(t){e.$set(e.device,"longitude",t)},expression:"device.longitude"}})],1)],1)])],1),e._v(" "),i("el-row",[i("el-col",[i("div",[i("el-form-item",{attrs:{label:"说明:","label-width":"120px","label-position":"right",prop:"description"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.device.description,callback:function(t){e.$set(e.device,"description",t)},expression:"device.description"}})],1)],1)])],1),e._v(" "),i("el-row",[i("el-col",[i("div",[i("el-form-item",{attrs:{label:"有无PM2.5:","label-width":"120px","label-position":"right",prop:"type"}},[i("el-radio-group",{model:{value:e.device.type,callback:function(t){e.$set(e.device,"type",t)},expression:"device.type"}},e._l(e.types,function(t){return i("el-radio",{key:t,attrs:{label:t,border:""}},[e._v(e._s(t))])}),1)],1)],1)])],1),e._v(" "),i("el-row",[i("el-col",[i("div",[i("el-form-item",{attrs:{label:"所属区域:","label-width":"120px","label-position":"right",prop:"type"}},[i("el-radio-group",{model:{value:e.device.areaname,callback:function(t){e.$set(e.device,"areaname",t)},expression:"device.areaname"}},e._l(e.areas,function(t){return i("el-radio",{key:t,attrs:{label:t,border:""}},[e._v(e._s(t))])}),1)],1)],1)])],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:e.cancelchange}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.submitadd}},[e._v("确 定")])],1)],1)],1)]),e._v(" "),i("el-form",{staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.device}},[i("div",{staticStyle:{"text-align":"left"}},[i("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.editTitle,"close-on-click-modal":!1,visible:e.editVisible,width:"77%","append-to-body":!0},on:{"update:visible":function(t){e.editVisible=t}}},[i("el-row",[i("el-col",[i("div",[i("el-form-item",{attrs:{label:"设备名称:","label-width":"120px","label-position":"right",prop:"id"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.device.id,callback:function(t){e.$set(e.device,"id",t)},expression:"device.id"}})],1)],1)])],1),e._v(" "),i("el-row",[i("el-col",[i("div",[i("el-form-item",{attrs:{label:"维度:","label-width":"120px","label-position":"right",prop:"latitude"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.device.latitude,callback:function(t){e.$set(e.device,"latitude",t)},expression:"device.latitude"}})],1)],1)])],1),e._v(" "),i("el-row",[i("el-col",[i("div",[i("el-form-item",{attrs:{label:"经度:","label-width":"120px","label-position":"right",prop:"longitude"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.device.longitude,callback:function(t){e.$set(e.device,"longitude",t)},expression:"device.longitude"}})],1)],1)])],1),e._v(" "),i("el-row",[i("el-col",[i("div",[i("el-form-item",{attrs:{label:"说明:","label-width":"120px","label-position":"right",prop:"description"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.device.description,callback:function(t){e.$set(e.device,"description",t)},expression:"device.description"}})],1)],1)])],1),e._v(" "),i("el-row",[i("el-col",[i("div",[i("el-form-item",{attrs:{label:"有无PM2.5:","label-width":"120px","label-position":"right",prop:"type"}},[i("el-radio-group",{model:{value:e.device.type,callback:function(t){e.$set(e.device,"type",t)},expression:"device.type"}},e._l(e.types,function(t){return i("el-radio",{key:t,attrs:{label:t,border:""}},[e._v(e._s(t))])}),1)],1)],1)])],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:e.cancelchange}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.submitchange}},[e._v("确 定")])],1)],1)],1)])],1)},staticRenderFns:[]}}});