webpackJsonp([21],{103:function(n,t,e){"use strict";e.d(t,"b",function(){return s});var r=e(1),o=e(243),u=e(60),i=e(162);r.default.use(o.a);var c=function(n){return e.e(13).then(function(){return n(e(112))}.bind(null,e)).catch(e.oe)};console.log(u.a.state.user.role);var a=[{path:"/",component:c,meta:["",""]}],f=function(){return new o.a({routes:a,strict:!1})},d=f(),s=function(n,t){var e=[];e="ROLE_admin"===t.state.user.role?i.a:"ROLE_browser"===t.state.user.role?i.b:"ROLE_controller"===t.state.user.role?i.c:i.d,n.addRoutes(e),t.commit("initMenu",e)};t.a=d},104:function(n,t){},106:function(n,t,e){e(229);var r=e(107)(e(166),e(242),null,null);n.exports=r.exports},108:function(n,t,e){"use strict";e.d(t,"a",function(){return u}),e.d(t,"g",function(){return i}),e.d(t,"f",function(){return c}),e.d(t,"c",function(){return a}),e.d(t,"b",function(){return f}),e.d(t,"e",function(){return d}),e.d(t,"d",function(){return s}),e.d(t,"u",function(){return l}),e.d(t,"v",function(){return p}),e.d(t,"p",function(){return m}),e.d(t,"s",function(){return h}),e.d(t,"t",function(){return v}),e.d(t,"k",function(){return g}),e.d(t,"m",function(){return w}),e.d(t,"j",function(){return b}),e.d(t,"l",function(){return y}),e.d(t,"i",function(){return S}),e.d(t,"h",function(){return _}),e.d(t,"o",function(){return O}),e.d(t,"q",function(){return x}),e.d(t,"r",function(){return C}),e.d(t,"w",function(){return I}),e.d(t,"x",function(){return j}),e.d(t,"n",function(){return k}),e.d(t,"F",function(){return E}),e.d(t,"G",function(){return T}),e.d(t,"B",function(){return A}),e.d(t,"E",function(){return P}),e.d(t,"D",function(){return R}),e.d(t,"y",function(){return L}),e.d(t,"z",function(){return q}),e.d(t,"A",function(){return M}),e.d(t,"C",function(){return H});var r=e(164),o=e(163),u=function(n){return e.i(o.a)("/logout",n)},i=function(n){return e.i(o.a)("/device/temperature_and_humidity/latest",n,"post")},c=function(n){return e.i(o.a)("/device/temperature_and_humidity/query",n,"post")},a=function(n){return e.i(o.a)("/device/airLight/latest",n,"post")},f=function(n){return e.i(o.a)("/device/airLight/query",n,"post")},d=function(n){return e.i(o.a)("/device/auto_reclosing_power_protector/latest",n,"post")},s=function(n){return e.i(o.a)("/device/auto_reclosing_power_protector/query",n,"post")},l=function(n){return e.i(o.a)("/device/remoteControl/fan/autoControlOn",n)},p=function(n){return e.i(o.a)("/device/remoteControl/fan/autoControlOff",n)},m=function(n){return e.i(o.a)("/device/remoteControl/fanSpeed",n)},h=function(n){return e.i(o.a)("/device/remoteControl/fanOn",n)},v=function(n){return e.i(o.a)("/device/remoteControl/fanOff",n)},g=function(n){return e.i(o.a)("/device/ErrTables",n)},w=function(n){return e.i(o.a)("/device/test",n)},b=function(n){return e.i(o.a)("/device/totalInformation",n)},y=function(n){return e.i(o.a)("/device/sensors",n)},S=function(n){return e.i(o.a)("/device/area/location",n)},_=function(n){return e.i(o.a)("/device/area",n)},O=function(n){return e.i(o.a)("/device/remoteControl/protectorRestart",n)},x=function(n){return e.i(o.a)("/device/remoteControl/protectorOn",n)},C=function(n){return e.i(o.a)("/device/remoteControl/protectorOff",n)},I=function(n){return e.i(o.a)("/device/temperature_and_humidity/latest/count",n)},j=function(n){return e.i(o.a)("/device/temperature_and_humidity/latest",n)},k=function(n){return e.i(o.a)("/device/temperature_and_humidity",n)},E=function(n){return e.i(r.a)("/admin/login",n,"POST")},T=function(){return e.i(r.a)("/admin/info")},A=function(){return e.i(r.a)("/v1/cities",{type:"guess"})},P=function(n){return e.i(r.a)("/shopping/addShop",n,"POST")},R=function(n,t){return e.i(r.a)("/v1/pois",{type:"search",city_id:n,keyword:t})},L=function(n){return e.i(r.a)("/shopping/getcategory/"+n)},q=function(n){return e.i(r.a)("/shopping/addcategory",n,"POST")},M=function(n){return e.i(r.a)("/shopping/addfood",n,"POST")},H=function(n,t){return e.i(r.a)("/shopping/v2/restaurant/category")}},162:function(n,t,e){"use strict";function r(n){var t=Array.isArray(n)?[]:{};if(n&&"object"===(void 0===n?"undefined":i()(n)))for(var e in n)n.hasOwnProperty(e)&&(n[e]&&"object"===i()(n[e])?t[e]=r(n[e]):t[e]=n[e]);return t}function o(n,t){var e=r(n);return e[1].children=e[1].children.concat(t),e}e.d(t,"d",function(){return S}),e.d(t,"b",function(){return _}),e.d(t,"c",function(){return x}),e.d(t,"a",function(){return I});var u=e(17),i=e.n(u),c=function(n){return e.e(10).then(function(){return n(e(115))}.bind(null,e)).catch(e.oe)},a=function(n){return e.e(9).then(function(){return n(e(123))}.bind(null,e)).catch(e.oe)},f=function(n){return e.e(1).then(function(){return n(e(120))}.bind(null,e)).catch(e.oe)},d=function(n){return e.e(0).then(function(){return n(e(111))}.bind(null,e)).catch(e.oe)},s=function(n){return e.e(3).then(function(){return n(e(121))}.bind(null,e)).catch(e.oe)},l=function(n){return e.e(2).then(function(){return n(e(122))}.bind(null,e)).catch(e.oe)},p=function(n){return e.e(13).then(function(){return n(e(112))}.bind(null,e)).catch(e.oe)},m=function(n){return e.e(11).then(function(){return n(e(114))}.bind(null,e)).catch(e.oe)},h=function(n){return e.e(8).then(function(){return n(e(124))}.bind(null,e)).catch(e.oe)},v=function(n){return e.e(5).then(function(){return n(e(118))}.bind(null,e)).catch(e.oe)},g=function(n){return e.e(4).then(function(){return n(e(119))}.bind(null,e)).catch(e.oe)},w=function(n){return e.e(7).then(function(){return n(e(116))}.bind(null,e)).catch(e.oe)},b=function(n){return e.e(6).then(function(){return n(e(117))}.bind(null,e)).catch(e.oe)},y=function(n){return e.e(12).then(function(){return n(e(113))}.bind(null,e)).catch(e.oe)},S=[{path:"/",component:p,meta:["",""]}],_=[{path:"/",component:p,meta:["",""]},{path:"/manage",component:c,name:"",children:[{path:"",component:d,meta:[]},{path:"/test",component:a,meta:["设备状态","所有设备状态"]},{path:"/HomeMap",component:d,meta:[]},{path:"/singleStatus",component:f,meta:["单设备状态"]},{path:"/tempearatureHumidity",component:s,meta:["环境数据"]},{path:"/temperatureSingle",component:l,meta:["环境数据","单设备环境数据"]},{path:"/reclose",component:v,meta:["电源数据"]},{path:"/recloseSingle",component:g,meta:["电源数据","单设备电源数据"]},{path:"/pm25Luminance",component:w,meta:["气象数据"]},{path:"/pm25LuminanceSingle",component:b,meta:["气象数据","单设备气象数据"]}]}],O=[{path:"/deviceControl",component:y,meta:["设备批量控制"]}],x=o(_,O),C=[{path:"/devices",component:m,meta:["设备管理","设备添加"]},{path:"/user",component:h,meta:["用户管理","用户信息"]}],I=o(x,C)},163:function(n,t,e){"use strict";var r=e(36),o=e.n(r),u=e(63),i=e.n(u),c=e(35),a=e.n(c),f=e(61),d=e(37),s=e.n(d),l=this;t.a=function(){var n=a()(o.a.mark(function n(){var t,e,r,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(u=f.c+u,"post"!==a){n.next=6;break}return t=null,n.next=5,s.a.post(u,c).then(function(n){t=n.data});case 5:return n.abrupt("return",t);case 6:return c!=={}&&(e="",i()(c).forEach(function(n){e+=c[n]+"/"}),""!==e&&(e=e.substr(0,e.lastIndexOf("/")),u=u+"/"+e)),r=null,n.next=10,s.a.get(u).then(function(n){r=n.data});case 10:return n.abrupt("return",r);case 11:case"end":return n.stop()}},n,l)}));return function(){return n.apply(this,arguments)}}()},164:function(n,t,e){"use strict";var r=e(36),o=e.n(r),u=e(17),i=e.n(u),c=e(76),a=e.n(c),f=e(75),d=e.n(f),s=e(63),l=e.n(s),p=e(35),m=e.n(p),h=e(61),v=this;t.a=function(){var n=m()(o.a.mark(function n(){var t,e,r,u,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"fetch";return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(s=s.toUpperCase(),c=h.b+c,"GET"==s&&(t="",l()(f).forEach(function(n){t+=n+"="+f[n]+"&"}),""!==t&&(t=t.substr(0,t.lastIndexOf("&")),c=c+"?"+t)),!window.fetch||"fetch"!=p){n.next=21;break}return e={credentials:"include",method:s,headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",cache:"force-cache"},"POST"==s&&Object.defineProperty(e,"body",{value:d()(f)}),n.prev=6,n.next=9,fetch(c,e);case 9:return r=n.sent,n.next=12,r.json();case 12:return u=n.sent,n.abrupt("return",u);case 16:throw n.prev=16,n.t0=n.catch(6),new Error(n.t0);case 19:n.next=22;break;case 21:return n.abrupt("return",new a.a(function(n,t){var e=void 0;e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject;var r="";"POST"==s&&(r=d()(f)),e.open(s,c,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(r),e.onreadystatechange=function(){if(4==e.readyState)if(200==e.status){var r=e.response;"object"!==(void 0===r?"undefined":i()(r))&&(r=JSON.parse(r)),n(r)}else t(e)}}));case 22:case"end":return n.stop()}},n,v,[[6,16]])}));return function(){return n.apply(this,arguments)}}()},165:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e(1),o=e(106),u=e.n(o),i=e(103),c=e(60),a=e(64),f=e.n(a),d=e(104),s=(e.n(d),e(37)),l=e.n(s),p=e(105),m=e.n(p);r.default.use(m.a,{ak:"HRj42cpubWpqT9zCnM86UVFi4rjK0tDw"}),l.a.defaults.withCredentials=!0,r.default.config.productionTip=!1,r.default.use(f.a),r.default.prototype.$axios=l.a,i.a.beforeEach(function(n,t,r){return console.log("from:",t.path),console.log("to:",n.path),console.log("^^^^^^^^^^^^^^^^^^^^^^^^^"),c.a.state.router.length>0?(console.log("普通跳转"),void r()):"/"===n.path?void r():void("未登录"===c.a.state.user.name?(console.log("未登录跳转"),r("/")):(e.i(i.b)(i.a,c.a),r(n)))}),new r.default({el:"#app",router:i.a,store:c.a,axios:l.a,template:"<App/>",components:{App:u.a}})},166:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},229:function(n,t){},242:function(n,t){n.exports={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"fillcontain",attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]}},60:function(n,t,e){"use strict";var r=e(36),o=e.n(r),u=e(35),i=e.n(u),c=e(75),a=e.n(c),f=e(1),d=e(109),s=e(108);f.default.use(d.c);var l={adminInfo:{avatar:"default.jpg"},count:null==window.localStorage.getItem("count")?0:window.localStorage.getItem("count"),user:{name:null==window.localStorage.getItem("user")?"未登录":JSON.parse(window.localStorage.getItem("user")).username,role:null==window.localStorage.getItem("user")?"未登录":JSON.parse(window.localStorage.getItem("user")).roles[0].name},router:[]},p={saveAdminInfo:function(n,t){n.adminInfo=t},increment:function(n){window.localStorage.setItem("count",++n.count)},clear:function(n){n.count=0,window.localStorage.removeItem("count")},login:function(n,t){n.user.name=t.username,n.user.role=t.roles[0].name,window.localStorage.setItem("user",a()(t))},logout:function(n){window.localStorage.removeItem("user"),n.router=[]},initMenu:function(n,t){n.router=t}},m={getAdminData:function(n){var t=this,r=n.commit;return i()(o.a.mark(function n(){var u;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.i(s.G)();case 3:if(u=n.sent,1!=u.status){n.next=8;break}r("saveAdminInfo",u.data),n.next=9;break;case 8:throw new Error(u.type);case 9:n.next=13;break;case 11:n.prev=11,n.t0=n.catch(0);case 13:case"end":return n.stop()}},n,t,[[0,11]])}))()},logout:function(n){(0,n.commit)("logout"),location.reload()}};t.a=new d.c.Store({state:l,actions:m,mutations:p})},61:function(n,t,e){"use strict";e.d(t,"b",function(){return r}),e.d(t,"a",function(){return o}),e.d(t,"c",function(){return u});var r="",o=void 0,u="";r="//elm.cangdu.org",o="//elm.cangdu.org/img/",u="http://139.9.198.72:8082"}},[165]);